{% extends "layout/_base.html" %}
{% block title %}Search{% endblock %}
{% block body %}
{#<center>#}
{#<div class="col-md-4">#}
{#        <div class="form-group">#}
{##}
{#            <input type="text" oninput="searcher(this)" class="form-control"#}
{#                   placeholder="Search" name="search">#}
{##}
{#            <script>#}
{#                function searcher(el) {#}
{#                    $('#search_list').empty()#}
{#                    let search = el.value#}
{#                    $.ajax({#}
{#                        url: "{% url 'alpine' %}",#}
{#                        method: 'POST',#}
{#                        headers: {#}
{#                            'X-CSRFToken': '{{ csrf_token }}'#}
{#                        },#}
{#                        data: 'search=' + search#}
{#                    }).done(function (data) {#}
{#                        let emails = JSON.parse(data).list#}
{#                        for (let e of emails) {#}
{#                            let text = `subject: ${e.subject} sender: ${e.sender} receiver: ${e.receiver}`#}
{#                            let a = `<a href="/mail/inbox_detail/${e.id}">${text}</a>`#}
{#                            let li = `<li>${a}</li>`#}
{#                            $('#search_list').append(li)#}
{##}
{#                        }#}
{#                    })#}
{##}
{#                }#}
{##}
{##}
{#            </script>#}
{#            <ul id="search_list">#}
{##}
{#            </ul>#}
{#        </div>#}
{#    </div>#}
{#</center>#}
{% endblock %}
